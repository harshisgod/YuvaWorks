<!DOCTYPE html>
<html lang="en">

<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>YuvaWorks - My Profile</title>
<style>
* {
margin: 0;
padding: 0;
box-sizing: border-box;
font-family: 'Poppins', sans-serif;
}

@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');
:root {
--primary-color: #0a192f;
--accent-color: #64ffda;
--secondary-color: #112240;
--text-color: #ccd6f6;
--blue-accent: #5671f5;
--blue-light: #8492fe;
}

body {
background-color: var(--primary-color);
color: var(--text-color);
min-height: 100vh;
display: flex;
flex-direction: column;
overflow-x: hidden;
}

.header {
display: flex;
justify-content: space-between;
align-items: center;
padding: 1.5rem 3rem;
background-color: rgba(10, 25, 47, 0.9);
position: fixed;
width: 100%;
top: 0;
z-index: 1000;
box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
transition: all 0.3s ease;
}

.header.scrolled {
padding: 1rem 3rem;
background-color: rgba(10, 25, 47, 0.95);
}

.logo {
font-size: 2rem;
font-weight: 700;
color: var(--blue-light);
text-decoration: none;
display: flex;
align-items: center;
}

.logo span {
color: var(--accent-color);
}

.nav-links {
display: flex;
gap: 2rem;
}

.nav-links a {
color: var(--text-color);
text-decoration: none;
font-weight: 500;
font-size: 1rem;
transition: color 0.3s ease;
position: relative;
}

.nav-links a:hover {
color: var(--blue-light);
}

.nav-links a::after {
content: '';
position: absolute;
bottom: -5px;
left: 0;
width: 0;
height: 2px;
background-color: var(--blue-light);
transition: width 0.3s ease;
}

.nav-links a:hover::after {
width: 100%;
}

.profile-container {
display: flex;
flex-direction: column;
padding: 8rem 3rem 3rem;
max-width: 1200px;
margin: 0 auto;
width: 100%;
position: relative;
}

.profile-header {
display: flex;
align-items: center;
margin-bottom: 3rem;
position: relative;
}

.profile-header h1 {
font-size: 2.5rem;
color: var(--accent-color);
margin-bottom: 0.5rem;
}

.profile-header p {
font-size: 1.1rem;
opacity: 0.8;
}

.profile-picture-container {
position: relative;
margin-right: 2rem;
}

.profile-picture {
width: 150px;
height: 150px;
border-radius: 50%;
object-fit: cover;
border: 4px solid var(--accent-color);
box-shadow: 0 8px 15px rgba(0, 0, 0, 0.3);
}

.change-photo-btn {
position: absolute;
bottom: 0;
right: 0;
background: var(--blue-accent);
color: white;
border: none;
border-radius: 50%;
width: 40px;
height: 40px;
display: flex;
align-items: center;
justify-content: center;
cursor: pointer;
box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
transition: all 0.3s ease;
}

.change-photo-btn:hover {
background: var(--blue-light);
transform: scale(1.1);
}

.profile-type-badge {
background: linear-gradient(90deg, var(--blue-accent), var(--blue-light));
color: white;
padding: 0.5rem 1rem;
border-radius: 20px;
font-weight: 500;
position: absolute;
top: -20px;
right: 0;
box-shadow: 0 5px 10px rgba(0, 0, 0, 0.2);
}

.profile-content {
display: grid;
grid-template-columns: 1fr 2fr;
gap: 2rem;
}

.profile-sidebar {
background-color: var(--secondary-color);
border-radius: 15px;
padding: 2rem;
height: fit-content;
box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
}

.sidebar-section {
margin-bottom: 2rem;
}

.sidebar-section:last-child {
margin-bottom: 0;
}

.sidebar-section h3 {
color: var(--accent-color);
font-size: 1.3rem;
margin-bottom: 1rem;
padding-bottom: 0.5rem;
border-bottom: 2px solid rgba(100, 255, 218, 0.2);
}

.profile-info-item {
margin-bottom: 1rem;
}

.profile-info-item label {
display: block;
font-size: 0.9rem;
color: var(--accent-color);
margin-bottom: 0.3rem;
}

.profile-info-item p {
font-size: 1rem;
}

.skill-tags {
display: flex;
flex-wrap: wrap;
gap: 0.5rem;
margin-top: 0.5rem;
}

.skill-tag {
background: rgba(100, 255, 218, 0.1);
border: 1px solid var(--accent-color);
color: var(--accent-color);
padding: 0.3rem 0.8rem;
border-radius: 15px;
font-size: 0.9rem;
display: flex;
align-items: center;
gap: 0.5rem;
}

.remove-skill {
background: none;
border: none;
color: var(--accent-color);
cursor: pointer;
font-size: 1rem;
padding: 0;
display: flex;
align-items: center;
justify-content: center;
}

.add-skill-form {
display: flex;
margin-top: 1rem;
}

.add-skill-input {
flex: 1;
padding: 0.5rem;
border: 1px solid rgba(100, 255, 218, 0.3);
background: rgba(255, 255, 255, 0.05);
border-radius: 4px 0 0 4px;
color: var(--text-color);
}

.add-skill-input:focus {
outline: none;
border-color: var(--blue-light);
}

.add-skill-btn {
background: var(--blue-accent);
color: white;
border: none;
padding: 0.5rem 1rem;
border-radius: 0 4px 4px 0;
cursor: pointer;
}

.profile-main {
display: flex;
flex-direction: column;
gap: 2rem;
}

.main-section {
background-color: var(--secondary-color);
border-radius: 15px;
padding: 2rem;
box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
}

.main-section h2 {
color: var(--accent-color);
font-size: 1.5rem;
margin-bottom: 1.5rem;
padding-bottom: 0.5rem;
border-bottom: 2px solid rgba(100, 255, 218, 0.2);
display: flex;
justify-content: space-between;
align-items: center;
}

.edit-button {
background: var(--blue-accent);
color: white;
border: none;
padding: 0.5rem 1rem;
border-radius: 5px;
font-size: 0.9rem;
cursor: pointer;
transition: all 0.3s ease;
display: flex;
align-items: center;
gap: 0.5rem;
}

.edit-button:hover {
background: var(--blue-light);
}

.form-group {
margin-bottom: 1.5rem;
}

.form-group label {
display: block;
margin-bottom: 0.5rem;
font-size: 1rem;
color: var(--accent-color);
}

.form-control {
width: 100%;
padding: 0.8rem 1rem;
border: 1px solid rgba(100, 255, 218, 0.3);
background: rgba(255, 255, 255, 0.05);
border-radius: 5px;
color: var(--text-color);
font-size: 1rem;
}

.form-control:focus {
outline: none;
border-color: var(--blue-light);
}

textarea.form-control {
min-height: 120px;
resize: vertical;
}

.save-btn {
background: linear-gradient(90deg, var(--blue-accent), var(--blue-light));
color: white;
padding: 0.8rem 2rem;
border: none;
border-radius: 5px;
font-size: 1rem;
font-weight: 500;
cursor: pointer;
transition: all 0.3s ease;
margin-top: 1rem;
display: inline-flex;
align-items: center;
gap: 0.5rem;
}

.save-btn:hover {
transform: translateY(-3px);
box-shadow: 0 5px 15px rgba(86, 113, 245, 0.4);
}

.save-btn:active {
transform: translateY(-1px);
}

.cancel-btn {
background: transparent;
color: var(--text-color);
padding: 0.8rem 2rem;
border: 1px solid var(--text-color);
border-radius: 5px;
font-size: 1rem;
font-weight: 500;
cursor: pointer;
transition: all 0.3s ease;
margin-top: 1rem;
margin-left: 1rem;
}

.cancel-btn:hover {
background: rgba(255, 255, 255, 0.05);
}

.project-card {
background: rgba(255, 255, 255, 0.05);
border-radius: 10px;
padding: 1.5rem;
margin-bottom: 1.5rem;
border-left: 4px solid var(--blue-light);
position: relative;
}

.project-card:last-child {
margin-bottom: 0;
}

.project-card h3 {
font-size: 1.2rem;
color: var(--blue-light);
margin-bottom: 0.5rem;
}

.project-meta {
display: flex;
gap: 2rem;
margin-bottom: 1rem;
font-size: 0.9rem;
color: rgba(204, 214, 246, 0.7);
}

.project-meta span {
display: flex;
align-items: center;
gap: 0.3rem;
}

.project-description {
margin-bottom: 1rem;
line-height: 1.6;
}

.project-tags {
display: flex;
flex-wrap: wrap;
gap: 0.5rem;
}

.project-tag {
background: rgba(86, 113, 245, 0.1);
border: 1px solid var(--blue-light);
color: var(--blue-light);
padding: 0.2rem 0.6rem;
border-radius: 15px;
font-size: 0.8rem;
}

.project-actions {
position: absolute;
top: 1.5rem;
right: 1.5rem;
display: flex;
gap: 0.5rem;
}

.project-action-btn {
background: none;
border: none;
color: var(--text-color);
cursor: pointer;
font-size: 1rem;
padding: 0.3rem;
border-radius: 4px;
transition: all 0.3s ease;
}

.project-action-btn:hover {
background: rgba(255, 255, 255, 0.1);
}

.add-project-btn {
background: rgba(100, 255, 218, 0.1);
border: 1px dashed var(--accent-color);
color: var(--accent-color);
padding: 1rem;
border-radius: 10px;
display: flex;
justify-content: center;
align-items: center;
gap: 0.5rem;
font-size: 1rem;
cursor: pointer;
transition: all 0.3s ease;
}

.add-project-btn:hover {
background: rgba(100, 255, 218, 0.2);
}

.modal {
display: none;
position: fixed;
top: 0;
left: 0;
width: 100%;
height: 100%;
background: rgba(0, 0, 0, 0.7);
z-index: 1100;
justify-content: center;
align-items: center;
padding: 1rem;
}

.modal-content {
background-color: var(--secondary-color);
border-radius: 15px;
max-width: 700px;
width: 100%;
max-height: 90vh;
overflow-y: auto;
padding: 2rem;
box-shadow: 0 15px 30px rgba(0, 0, 0, 0.4);
position: relative;
}

.modal-header {
display: flex;
justify-content: space-between;
align-items: center;
margin-bottom: 1.5rem;
padding-bottom: 1rem;
border-bottom: 1px solid rgba(100, 255, 218, 0.2);
}

.modal-header h2 {
color: var(--accent-color);
font-size: 1.5rem;
margin: 0;
border: none;
}

.close-modal {
background: none;
border: none;
color: var(--text-color);
font-size: 1.5rem;
cursor: pointer;
padding: 0.5rem;
display: flex;
align-items: center;
justify-content: center;
}

.close-modal:hover {
color: var(--accent-color);
}

.modal-body {
margin-bottom: 1.5rem;
}

.modal-footer {
display: flex;
justify-content: flex-end;
gap: 1rem;
padding-top: 1rem;
border-top: 1px solid rgba(100, 255, 218, 0.2);
}

.profile-type-selector {
margin-bottom: 2rem;
}

.type-radio-group {
display: flex;
gap: 1rem;
margin-top: 0.5rem;
}

.type-radio-item {
flex: 1;
}

.type-radio-item input[type="radio"] {
display: none;
}

.type-radio-item label {
display: block;
background: rgba(255, 255, 255, 0.05);
border: 2px solid transparent;
padding: 1rem;
border-radius: 8px;
text-align: center;
cursor: pointer;
transition: all 0.3s ease;
}

.type-radio-item input[type="radio"]:checked + label {
border-color: var(--blue-light);
background: rgba(86, 113, 245, 0.1);
}

.type-radio-item label .icon {
font-size: 2rem;
margin-bottom: 0.5rem;
display: block;
}

.type-radio-item label .text {
font-weight: 500;
}

.conditional-field {
display: none;
}

.field-row {
display: flex;
gap: 1rem;
}

.field-row .form-group {
flex: 1;
}

@media (max-width: 992px) {
.profile-content {
grid-template-columns: 1fr;
}

.profile-container {
padding: 8rem 2rem 2rem;
}
}

@media (max-width: 768px) {
.profile-header {
flex-direction: column;
text-align: center;
}

.profile-picture-container {
margin-right: 0;
margin-bottom: 1.5rem;
}

.profile-type-badge {
position: static;
margin-top: 1rem;
display: inline-block;
}

.field-row {
flex-direction: column;
gap: 0;
}

.header {
padding: 1rem;
}

.nav-links {
gap: 1rem;
}

.logo {
font-size: 1.5rem;
}
}

@media (max-width: 576px) {
.profile-container {
padding: 7rem 1rem 1rem;
}

.profile-header h1 {
font-size: 2rem;
}

.main-section h2 {
flex-direction: column;
align-items: flex-start;
gap: 1rem;
}

.project-meta {
flex-direction: column;
gap: 0.5rem;
}

.project-actions {
position: static;
margin-top: 1rem;
}

.project-card {
padding: 1rem;
}
}

/* Background Circles */
.bg-circles {
position: fixed;
top: 0;
left: 0;
width: 100%;
height: 100%;
overflow: hidden;
z-index: -1;
}

.bg-circle {
position: absolute;
border-radius: 50%;
opacity: 0.3;
filter: blur(60px);
}

.bg-circle-1 {
width: 600px;
height: 600px;
background: radial-gradient(circle, rgba(86, 113, 245, 0.8) 0%, rgba(86, 113, 245, 0.2) 70%);
top: -150px;
left: -150px;
animation: float 25s infinite alternate ease-in-out;
}

.bg-circle-2 {
width: 500px;
height: 500px;
background: radial-gradient(circle, rgba(100, 255, 218, 0.8) 0%, rgba(100, 255, 218, 0.2) 70%);
bottom: -100px;
right: -100px;
animation: float-reverse 30s infinite alternate ease-in-out;
}

.bg-circle-3 {
width: 700px;
height: 700px;
background: radial-gradient(circle, rgba(132, 146, 254, 0.6) 0%, rgba(132, 146, 254, 0.1) 70%);
bottom: 20%;
left: 20%;
animation: float 40s infinite alternate ease-in-out;
}

@keyframes float {
0% {
transform: translate(0, 0);
}
100% {
transform: translate(50px, 50px);
}
}

@keyframes float-reverse {
0% {
transform: translate(0, 0);
}
100% {
transform: translate(-50px, -50px);
}
}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body>
<div class="bg-circles">
<div class="bg-circle bg-circle-1"></div>
<div class="bg-circle bg-circle-2"></div>
<div class="bg-circle bg-circle-3"></div>
</div>
<header class="header">
<a href="home.html" class="logo">Yuva<span>Works</span></a>
<nav class="nav-links">
<a href="home.html">Home</a>
<a href="browse-jobs.html">Browse Jobs</a>
<a href="aboutus.html">About Us</a>
<a href="contactus.html">Contact</a>
</nav>
</header>

<div class="profile-container">
<div class="profile-header">
<div class="profile-picture-container">
<img src="https://i.pravatar.cc/300" alt="Profile Picture" class="profile-picture" id="profile-picture">
<button class="change-photo-btn" id="change-photo-btn">
<i class="fas fa-camera"></i>
</button>
<input type="file" id="photo-upload" style="display: none;" accept="image/*">
</div>
<div>
<h1 id="profile-name">John Doe</h1>
<p id="profile-title">UI/UX Designer</p>
<div class="profile-type-badge" id="profile-type-badge">Freelancer</div>
</div>
</div>



<div class="profile-content">
<div class="profile-sidebar">
<div class="sidebar-section">
<h3>Personal Information</h3>
<div class="profile-info-item">
<label>Full Name</label>
<p id="sidebar-name">John Doe</p>
</div>
<div class="profile-info-item">
<label>Email</label>
<p id="sidebar-email">john.doe@example.com</p>
</div>
<div class="profile-info-item conditional-org-info" style="display: none;">
<label>Organization</label>
<p id="sidebar-organization">Not specified</p>
</div>
<div class="profile-info-item conditional-org-info" style="display: none;">
<label>Designation</label>
<p id="sidebar-designation">Not specified</p>
</div>
</div>

<div class="sidebar-section">
<h3>Skills</h3>
<div class="skill-tags" id="skill-tags-container">
<!-- Skills will be added dynamically -->
</div>
<div class="add-skill-form">
<input type="text" class="add-skill-input" id="new-skill-input" placeholder="Add a skill">
<button class="add-skill-btn" id="add-skill-btn">
<i class="fas fa-plus"></i>
</button>
</div>
</div>
</div>

<div class="profile-main">
<div class="main-section" id="basic-info-section">
<h2>
Basic Information
<button class="edit-button" id="edit-basic-info-btn">
<i class="fas fa-edit"></i> Edit
</button>
</h2>

<div id="basic-info-display">
<div class="profile-type-selector">
<label>Profile Type</label>
<p id="profile-type-display">Freelancer</p>
</div>

<div class="form-group">
<label>Bio</label>
<p id="bio-display">No bio provided yet.</p>
</div>

<div class="conditional-org-details" style="display: none;">
<div class="form-group">
<label>Organization Details</label>
<p id="org-details-display">No organization details provided yet.</p>
</div>
</div>
</div>

<div id="basic-info-form" style="display: none;">
<div class="profile-type-selector">
<label>Profile Type</label>
<div class="type-radio-group">
<div class="type-radio-item">
<input type="radio" id="type-freelancer" name="profile-type" value="freelancer" checked>
<label for="type-freelancer">
<span class="icon"><i class="fas fa-user"></i></span>
<span class="text">Freelancer</span>
</label>
</div>
<div class="type-radio-item">
<input type="radio" id="type-employer" name="profile-type" value="employer">
<label for="type-employer">
<span class="icon"><i class="fas fa-building"></i></span>
<span class="text">Employer</span>
</label>
</div>
</div>
</div>

<div class="field-row">
<div class="form-group">
<label for="first-name-input">First Name</label>
<input type="text" class="form-control" id="first-name-input" placeholder="Enter your first name">
</div>
<div class="form-group">
<label for="last-name-input">Last Name</label>
<input type="text" class="form-control" id="last-name-input" placeholder="Enter your last name">
</div>
</div>

<div class="form-group">
<label for="title-input">Professional Title</label>
<input type="text" class="form-control" id="title-input" placeholder="e.g. UI/UX Designer, Software Developer">
</div>

<div class="form-group">
<label for="bio-input">Bio</label>
<textarea class="form-control" id="bio-input" placeholder="Tell us about yourself..."></textarea>
</div>

<div id="employer-fields" class="conditional-field">
<div class="form-group">
<label for="organization-input">Organization Name</label>
<input type="text" class="form-control" id="organization-input" placeholder="Enter your organization name">
</div>

<div class="form-group">
<label for="designation-input">Your Designation</label>
<input type="text" class="form-control" id="designation-input" placeholder="e.g. HR Manager, CTO">
</div>

<div class="form-group">
<label for="org-details-input">Organization Details</label>
<textarea class="form-control" id="org-details-input" placeholder="Tell us about your organization..."></textarea>
</div>
</div>

<button class="save-btn" id="save-basic-info-btn">
<i class="fas fa-save"></i> Save Changes
</button>
<button class="cancel-btn" id="cancel-basic-info-btn">Cancel</button>
</div>
</div>

<div class="main-section">
<h2>
Projects & Experience
<button class="edit-button" id="add-project-btn">
<i class="fas fa-plus"></i> Add Project
</button>
</h2>

<div id="projects-container">
<!-- Projects will be added dynamically -->
<div class="add-project-btn" id="add-project-empty">
<i class="fas fa-plus"></i> Add your first project
</div>
</div>
</div>
</div>
</div>
</div>

<!-- Add/Edit Project Modal -->
<div class="modal" id="project-modal">
<div class="modal-content">
<div class="modal-header">
<h2 id="project-modal-title">Add Project</h2>
<button class="close-modal" id="close-project-modal">
<i class="fas fa-times"></i>
</button>
</div>
<div class="modal-body">
<input type="hidden" id="project-id-input">
<div class="form-group">
<label for="project-title-input">Project Title</label>
<input type="text" class="form-control" id="project-title-input" placeholder="Enter project title">
</div>

<div class="field-row">
<div class="form-group">
<label for="project-start-date">Start Date</label>
<input type="date" class="form-control" id="project-start-date">
</div>
<div class="form-group">
<label for="project-end-date">End Date</label>
<input type="date" class="form-control" id="project-end-date">
</div>
</div>

<div class="form-group">
<label for="project-description">Description</label>
<textarea class="form-control" id="project-description" placeholder="Describe your project..."></textarea>
</div>

<div class="form-group">
<label for="project-roles">Your Role</label>
<input type="text" class="form-control" id="project-roles" placeholder="e.g. Lead Developer, UI Designer">
</div>

<div class="form-group">
<label for="project-technologies">Technologies Used (comma separated)</label>
<input type="text" class="form-control" id="project-technologies" placeholder="e.g. React, Node.js, MongoDB">
</div>
</div>
<div class="modal-footer">
<button class="cancel-btn" id="cancel-project-btn">Cancel</button>
<button class="save-btn" id="save-project-btn">
<i class="fas fa-save"></i> Save Project
</button>
</div>
</div>
</div>

<script>
// Function to load user data from localStorage
function loadUserData() {
const userData = JSON.parse(localStorage.getItem('yuvaworks_user')) || {};
const profileData = JSON.parse(localStorage.getItem('yuvaworks_profile')) || {
profileType: 'freelancer',
skills: [],
bio: '',
organization: '',
designation: '',
orgDetails: '',
projects: []
};

// Update UI with user data
document.getElementById('profile-name').textContent = `${userData.firstName || ''} ${userData.lastName || ''}`.trim() || 'John Doe';
document.getElementById('sidebar-name').textContent = `${userData.firstName || ''} ${userData.lastName || ''}`.trim() || 'John Doe';
document.getElementById('sidebar-email').textContent = userData.email || 'john.doe@example.com';
document.getElementById('profile-title').textContent = profileData.title || 'UI/UX Designer';
document.getElementById('profile-type-badge').textContent = profileData.profileType === 'employer' ? 'Employer' : 'Freelancer';
document.getElementById('profile-type-display').textContent = profileData.profileType === 'employer' ? 'Employer' : 'Freelancer';
document.getElementById('bio-display').textContent = profileData.bio || 'No bio provided yet.';

// Set form values
document.getElementById('first-name-input').value = userData.firstName || '';
document.getElementById('last-name-input').value = userData.lastName || '';
document.getElementById('title-input').value = profileData.title || '';
document.getElementById('bio-input').value = profileData.bio || '';

// Set profile type radio
if (profileData.profileType === 'employer') {
document.getElementById('type-employer').checked = true;
showEmployerFields();
} else {
document.getElementById('type-freelancer').checked = true;
hideEmployerFields();
}

// Load organization details if employer
if (profileData.profileType === 'employer') {
document.getElementById('sidebar-organization').textContent = profileData.organization || 'Not specified';
document.getElementById('sidebar-designation').textContent = profileData.designation || 'Not specified';
document.getElementById('org-details-display').textContent = profileData.orgDetails || 'No organization details provided yet.';
document.getElementById('organization-input').value = profileData.organization || '';
document.getElementById('designation-input').value = profileData.designation || '';
document.getElementById('org-details-input').value = profileData.orgDetails || '';

// Show organization info in sidebar
document.querySelectorAll('.conditional-org-info').forEach(el => el.style.display = 'block');
document.querySelector('.conditional-org-details').style.display = 'block';
}

// Load skills
loadSkills(profileData.skills);

// Load projects
loadProjects(profileData.projects);
}

// Function to load skills into UI
function loadSkills(skills) {
const skillsContainer = document.getElementById('skill-tags-container');
skillsContainer.innerHTML = '';

if (skills && skills.length > 0) {
skills.forEach((skill, index) => {
const skillTag = document.createElement('div');
skillTag.className = 'skill-tag';
skillTag.innerHTML = `
                       ${skill}
                       <button class="remove-skill" data-index="${index}">
                           <i class="fas fa-times"></i>
                       </button>
                   `;
skillsContainer.appendChild(skillTag);
});

// Add event listeners to remove buttons
document.querySelectorAll('.remove-skill').forEach(btn => {
btn.addEventListener('click', function() {
removeSkill(parseInt(this.getAttribute('data-index')));
});
});
}
}

// Function to add a new skill
function addSkill() {
const skillInput = document.getElementById('new-skill-input');
const skill = skillInput.value.trim();

if (skill) {
const profileData = JSON.parse(localStorage.getItem('yuvaworks_profile')) || { skills: [] };

if (!profileData.skills) {
profileData.skills = [];
}

// Add skill if not already exists
if (!profileData.skills.includes(skill)) {
profileData.skills.push(skill);
localStorage.setItem('yuvaworks_profile', JSON.stringify(profileData));

// Update UI
loadSkills(profileData.skills);
skillInput.value = '';
} else {
alert('This skill already exists in your profile.');
}
}
}

// Function to remove a skill
function removeSkill(index) {
const profileData = JSON.parse(localStorage.getItem('yuvaworks_profile')) || { skills: [] };

if (profileData.skills && index >= 0 && index < profileData.skills.length) {
profileData.skills.splice(index, 1);
localStorage.setItem('yuvaworks_profile', JSON.stringify(profileData));

// Update UI
loadSkills(profileData.skills);
}
}

// Function to load projects
function loadProjects(projects) {
const projectsContainer = document.getElementById('projects-container');
projectsContainer.innerHTML = '';

if (projects && projects.length > 0) {
projects.forEach((project, index) => {
const projectCard = document.createElement('div');
projectCard.className = 'project-card';
projectCard.innerHTML = `
                       <h3>${project.title || 'Untitled Project'}</h3>
                       <div class="project-meta">
                           <span><i class="fas fa-calendar"></i> ${formatDateRange(project.startDate, project.endDate)}</span>
                           <span><i class="fas fa-user"></i> ${project.role || 'Role not specified'}</span>
                       </div>
                       <div class="project-description">
                           ${project.description || 'No description available.'}
                       </div>
                       <div class="project-tags">
                           ${generateTechTags(project.technologies)}
                       </div>
                       <div class="project-actions">
                           <button class="project-action-btn edit-project" data-index="${index}">
                               <i class="fas fa-edit"></i>
                           </button>
                           <button class="project-action-btn delete-project" data-index="${index}">
                               <i class="fas fa-trash"></i>
                           </button>
                       </div>
                   `;
projectsContainer.appendChild(projectCard);
});

// Add event listeners to project action buttons
document.querySelectorAll('.edit-project').forEach(btn => {
btn.addEventListener('click', function() {
const index = parseInt(this.getAttribute('data-index'));
openEditProjectModal(index);
});
});

document.querySelectorAll('.delete-project').forEach(btn => {
btn.addEventListener('click', function() {
const index = parseInt(this.getAttribute('data-index'));
deleteProject(index);
});
});
} else {
// Show empty state
projectsContainer.innerHTML = `
                   <div class="add-project-btn" id="add-project-empty">
                       <i class="fas fa-plus"></i> Add your first project
                   </div>
               `;

document.getElementById('add-project-empty').addEventListener('click', openAddProjectModal);
}
}

// Helper function to format date range
function formatDateRange(startDate, endDate) {
const start = startDate ? new Date(startDate).toLocaleDateString() : 'Not specified';
const end = endDate ? new Date(endDate).toLocaleDateString() : 'Present';
return `${start} - ${end}`;
}

// Helper function to generate technology tags HTML
function generateTechTags(technologies) {
if (!technologies) return '';

const techArray = typeof technologies === 'string' 
? technologies.split(',').map(tech => tech.trim()).filter(tech => tech)
: technologies;

return techArray.map(tech => `<span class="project-tag">${tech}</span>`).join('');
}

// Function to save basic information
function saveBasicInfo() {
const userData = JSON.parse(localStorage.getItem('yuvaworks_user')) || {};
const profileData = JSON.parse(localStorage.getItem('yuvaworks_profile')) || {};

// Update user data
userData.firstName = document.getElementById('first-name-input').value.trim();
userData.lastName = document.getElementById('last-name-input').value.trim();

// Update profile data
profileData.title = document.getElementById('title-input').value.trim();
profileData.bio = document.getElementById('bio-input').value.trim();
profileData.profileType = document.getElementById('type-employer').checked ? 'employer' : 'freelancer';

// Update employer specific fields if applicable
if (profileData.profileType === 'employer') {
profileData.organization = document.getElementById('organization-input').value.trim();
profileData.designation = document.getElementById('designation-input').value.trim();
profileData.orgDetails = document.getElementById('org-details-input').value.trim();
}

// Save to localStorage
localStorage.setItem('yuvaworks_user', JSON.stringify(userData));
localStorage.setItem('yuvaworks_profile', JSON.stringify(profileData));

// Switch back to display view and reload data
toggleBasicInfoForm(false);
loadUserData();
}

// Function to toggle basic info form visibility
function toggleBasicInfoForm(show) {
const displaySection = document.getElementById('basic-info-display');
const formSection = document.getElementById('basic-info-form');

if (show) {
displaySection.style.display = 'none';
formSection.style.display = 'block';
} else {
displaySection.style.display = 'block';
formSection.style.display = 'none';
}
}

// Function to show employer fields
function showEmployerFields() {
document.getElementById('employer-fields').style.display = 'block';
}

// Function to hide employer fields
function hideEmployerFields() {
document.getElementById('employer-fields').style.display = 'none';
}

// Function to open add project modal
function openAddProjectModal() {
// Clear form
document.getElementById('project-id-input').value = '';
document.getElementById('project-title-input').value = '';
document.getElementById('project-start-date').value = '';
document.getElementById('project-end-date').value = '';
document.getElementById('project-description').value = '';
document.getElementById('project-roles').value = '';
document.getElementById('project-technologies').value = '';

// Update modal title
document.getElementById('project-modal-title').textContent = 'Add Project';

// Show modal
document.getElementById('project-modal').style.display = 'flex';
}

// Function to open edit project modal
function openEditProjectModal(index) {
const profileData = JSON.parse(localStorage.getItem('yuvaworks_profile')) || {};
const project = profileData.projects && profileData.projects[index];

if (project) {
// Fill form with project data
document.getElementById('project-id-input').value = index;
document.getElementById('project-title-input').value = project.title || '';
document.getElementById('project-start-date').value = project.startDate || '';
document.getElementById('project-end-date').value = project.endDate || '';
document.getElementById('project-description').value = project.description || '';
document.getElementById('project-roles').value = project.role || '';
document.getElementById('project-technologies').value = Array.isArray(project.technologies) 
? project.technologies.join(', ') 
: project.technologies || '';

// Update modal title
document.getElementById('project-modal-title').textContent = 'Edit Project';

// Show modal
document.getElementById('project-modal').style.display = 'flex';
}
}

// Function to save project
function saveProject() {
const profileData = JSON.parse(localStorage.getItem('yuvaworks_profile')) || {};

if (!profileData.projects) {
profileData.projects = [];
}

const projectIdInput = document.getElementById('project-id-input').value;
const isEdit = projectIdInput !== '';
const projectIndex = isEdit ? parseInt(projectIdInput) : -1;

// Get project data from form
const project = {
title: document.getElementById('project-title-input').value.trim(),
startDate: document.getElementById('project-start-date').value,
endDate: document.getElementById('project-end-date').value,
description: document.getElementById('project-description').value.trim(),
role: document.getElementById('project-roles').value.trim(),
technologies: document.getElementById('project-technologies').value.trim().split(',').map(tech => tech.trim()).filter(tech => tech)
};

// Validate required fields
if (!project.title) {
alert('Project title is required.');
return;
}

// Save project
if (isEdit && projectIndex >= 0 && projectIndex < profileData.projects.length) {
// Update existing project
profileData.projects[projectIndex] = project;
} else {
// Add new project
profileData.projects.push(project);
}

// Save to localStorage
localStorage.setItem('yuvaworks_profile', JSON.stringify(profileData));

// Close modal and reload projects
closeProjectModal();
loadProjects(profileData.projects);
}

// Function to delete project
function deleteProject(index) {
if (confirm('Are you sure you want to delete this project?')) {
const profileData = JSON.parse(localStorage.getItem('yuvaworks_profile')) || {};

if (profileData.projects && index >= 0 && index < profileData.projects.length) {
profileData.projects.splice(index, 1);
localStorage.setItem('yuvaworks_profile', JSON.stringify(profileData));

// Reload projects
loadProjects(profileData.projects);
}
}
}

// Function to close project modal
function closeProjectModal() {
document.getElementById('project-modal').style.display = 'none';
}

// Function to handle profile photo change
function setupPhotoUpload() {
const changePhotoBtn = document.getElementById('change-photo-btn');
const photoUploadInput = document.getElementById('photo-upload');
const profilePicture = document.getElementById('profile-picture');
            
            changePhotoBtn.addEventListener('click', function() {

            changePhotoBtn.addEventListener('click', function () {
photoUploadInput.click();
});
            
            photoUploadInput.addEventListener('change', function() {

            photoUploadInput.addEventListener('change', function () {
const file = this.files[0];
if (file) {
const reader = new FileReader();
                    reader.onload = function(e) {
                    reader.onload = function (e) {
profilePicture.src = e.target.result;
                        // Save to localStorage

                        // Save the uploaded photo to localStorage
localStorage.setItem('yuvaworks_profile_picture', e.target.result);
};
reader.readAsDataURL(file);
}
});
            
            // Load saved profile picture if exists

            // Load saved profile picture if it exists
const savedPicture = localStorage.getItem('yuvaworks_profile_picture');
if (savedPicture) {
profilePicture.src = savedPicture;
}
}

// Initialize when DOM is ready
document.addEventListener('DOMContentLoaded', function() {
// Load user data
loadUserData();

// Setup photo upload
setupPhotoUpload();

// Profile type change event
document.querySelectorAll('input[name="profile-type"]').forEach(radio => {
radio.addEventListener('change', function() {
if (this.value === 'employer') {
showEmployerFields();
} else {
hideEmployerFields();
}
});
});

// Basic info form events
document.getElementById('edit-basic-info-btn').addEventListener('click', function() {
toggleBasicInfoForm(true);
});

document.getElementById('save-basic-info-btn').addEventListener('click', saveBasicInfo);

document.getElementById('cancel-basic-info-btn').addEventListener('click', function() {
toggleBasicInfoForm(false);
});

// Skills events
document.getElementById('add-skill-btn').addEventListener('click', addSkill);

document.getElementById('new-skill-input').addEventListener('keypress', function(e) {
if (e.key === 'Enter') {
e.preventDefault();
addSkill();
}
});

// Project events
document.getElementById('add-project-btn').addEventListener('click', openAddProjectModal);

document.getElementById('save-project-btn').addEventListener('click', saveProject);

document.getElementById('cancel-project-btn').addEventListener('click', closeProjectModal);

document.getElementById('close-project-modal').addEventListener('click', closeProjectModal);

// Header scroll effect
window.addEventListener('scroll', function() {
const header = document.querySelector('.header');
if (window.scrollY > 50) {
header.classList.add('scrolled');
} else {
header.classList.remove('scrolled');
}
});
});
</script>
</body>
</html>
</html>
